package Bank;

 class Sync implements Runnable
{
    String name;
    int money;
    static int avail_ticket = 10;   

    Sync(String name, int ticket)
    {
        this.name = name;
        this.money = ticket;
    }

    public void run()
    {
        
        for(int i = 1; i <= 3; i++)
        {
            System.out.println("Hello " + name);
        }

        synchronized(this)
       {
            if(avail_ticket >= money)
            {
                avail_ticket -= money;
                System.out.println(name + " ticket granted");
            }
            else
            {
                System.out.println(name +" ticket not granted. Available: " + avail_ticket);
            }
        }

        
        for(int i = 1; i <= 3; i++)
        {
            System.out.println("Bye " + name);
        }
    }
}

public class Synchronized_block
{
    public static void main(String[] args)
    {
        Sync s1 = new Sync("UserA", 2000);
        Sync s2 = new Sync("UserB", 2000);
        Sync s3 = new Sync("UserA", 2000);
        Sync s4 = new Sync("UserA", 2000);

        Thread t1 = new Thread(s1);
        Thread t2 = new Thread(s2);
        Thread t3 = new Thread(s3);
        Thread t4 = new Thread(s4);

        t1.start();
        t2.start();
        t3.start();
        t4.start();
    }
}
